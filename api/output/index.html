<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><meta http-equiv="X-UA-Compatible"content="IE=Edge"><meta http-equiv="Content-Type"content="text/html; charset=utf-8"><title>Output &#8212; esphomelib 1.6.2 documentation</title><link rel="stylesheet"href="../../_static/alabaster.css"type="text/css"><link rel="stylesheet"href="../../_static/pygments.css"type="text/css"><script src="../../_static/documentation_options.js"></script><script src="../../_static/jquery.js"></script><script src="../../_static/underscore.js"></script><script src="../../_static/doctools.js"></script><link rel="index"title="Index"href="../../genindex.html"><link rel="search"title="Search"href="../../search.html"><link rel="next"title="GPIO Binary Output"href="gpio-binary.html"><link rel="prev"title="Template Binary Sensor"href="../binary_sensor/template.html"><link rel="stylesheet"href="../../_static/custom.css"type="text/css"><meta name="viewport"content="width=device-width,initial-scale=0.9,maximum-scale=0.9"><div class="document"><div class="documentwrapper"><div class="bodywrapper"><div class="body"role="main"><div class="section"id="output"><h1>Output<a class="headerlink"href="#output"title="Permalink to this headline">¶</a></h1><p>The <cite>output</cite> namespace contains all peripheral output components.<div class="toctree-wrapper compound"><ul><li class="toctree-l1"><a class="reference internal"href="gpio-binary.html">GPIO Binary Output</a><ul><li class="toctree-l2"><a class="reference internal"href="gpio-binary.html#example-usage">Example Usage</a><li class="toctree-l2"><a class="reference internal"href="gpio-binary.html#api-reference">API Reference</a><ul><li class="toctree-l3"><a class="reference internal"href="gpio-binary.html#gpiobinaryoutputcomponent">GPIOBinaryOutputComponent</a></ul></ul><li class="toctree-l1"><a class="reference internal"href="ledc.html">LEDC PWM Output</a><ul><li class="toctree-l2"><a class="reference internal"href="ledc.html#example-usage">Example Usage</a><li class="toctree-l2"><a class="reference internal"href="ledc.html#api-reference">API Reference</a><ul><li class="toctree-l3"><a class="reference internal"href="ledc.html#ledcoutputcomponent">LEDCOutputComponent</a></ul></ul><li class="toctree-l1"><a class="reference internal"href="pca9685.html">PCA9685 Output</a><ul><li class="toctree-l2"><a class="reference internal"href="pca9685.html#example-usage">Example Usage</a><li class="toctree-l2"><a class="reference internal"href="pca9685.html#api-reference">API Reference</a><ul><li class="toctree-l3"><a class="reference internal"href="pca9685.html#pca9685outputcomponent">PCA9685OutputComponent</a></ul></ul><li class="toctree-l1"><a class="reference internal"href="esp8266-pwm.html">ESP8266 Software PWM</a><ul><li class="toctree-l2"><a class="reference internal"href="esp8266-pwm.html#example-usage">Example Usage</a><li class="toctree-l2"><a class="reference internal"href="esp8266-pwm.html#api-reference">API Reference</a><ul><li class="toctree-l3"><a class="reference internal"href="esp8266-pwm.html#esp8266pwmoutput">ESP8266PWMOutput</a></ul></ul></ul></div><div class="section"id="api-reference"><h2>API Reference<a class="headerlink"href="#api-reference"title="Permalink to this headline">¶</a></h2><div class="section"id="binaryoutput"><h3>BinaryOutput<a class="headerlink"href="#binaryoutput"title="Permalink to this headline">¶</a></h3><dl class="class"><dt id="_CPPv3N6output12BinaryOutputE"><span id="_CPPv2N6output12BinaryOutputE"></span><span id="output::BinaryOutput"></span><span class="target"id="classoutput_1_1_binary_output"></span><em class="property">class </em>output<code class="descclassname">::</code><code class="descname">BinaryOutput</code><a class="headerlink"href="#_CPPv3N6output12BinaryOutputE"title="Permalink to this definition">¶</a><br><dd><p>The base class for all binary outputs i.e.<p>outputs that can only be switched on/off.<p>This interface class provides one method you need to override in order to create a binary output component yourself: write_value(). This method will be called for you by the MQTT <a class="reference internal"href="../core/component.html#class_component"><span class="std std-ref">Component</span></a> through <a class="reference internal"href="#classoutput_1_1_binary_output_1a6d313914e000f1a057e0ba284514ca59"><span class="std std-ref">enable()</span></a>/disable() to indicate that a new value should be written to hardware.<p>Note that this class also allows the user to invert any state, but you don’t need to worry about that because the value will already be inverted (if specified by the user) within set_state_(). So write_state will always receive the correctly inverted state.<p>Additionally, this class provides high power mode capabilities using <a class="reference internal"href="../core/power-supply.html#class_power_supply_component"><span class="std std-ref">PowerSupplyComponent</span></a>. Every time the output is enabled (independent of inversion!), the power supply will automatically be turned on.<p>Subclassed by <a class="reference internal"href="#classoutput_1_1_float_output"><span class="std std-ref">output::FloatOutput</span></a>, <a class="reference internal"href="gpio-binary.html#classoutput_1_1_g_p_i_o_binary_output_component"><span class="std std-ref">output::GPIOBinaryOutputComponent</span></a><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Public Functions<dl class="function"><dt id="_CPPv3N6output12BinaryOutput13write_enabledEb"><span id="_CPPv2N6output12BinaryOutput13write_enabledEb"></span><span id="output::BinaryOutput::write_enabled__b"></span><span class="target"id="classoutput_1_1_binary_output_1a181b8c041ed6926eb71d5a8c4232166c"></span><em class="property">virtual</em> void output::<a class="reference internal"href="#_CPPv3N6output12BinaryOutputE"title="output::BinaryOutput">BinaryOutput</a><code class="descname">write_enabled</code><span class="sig-paren">(</span>bool <em>enabled</em><span class="sig-paren">)</span> = 0<a class="headerlink"href="#_CPPv3N6output12BinaryOutput13write_enabledEb"title="Permalink to this definition">¶</a><br><dd><p>Write a binary state to hardware, inversion is already applied.</dl><dl class="function"><dt id="_CPPv3N6output12BinaryOutput12set_invertedEb"><span id="_CPPv2N6output12BinaryOutput12set_invertedEb"></span><span id="output::BinaryOutput::set_inverted__b"></span><span class="target"id="classoutput_1_1_binary_output_1a6449e59f0fab4a50fd714f4cc6f2d44f"></span>void output::<a class="reference internal"href="#_CPPv3N6output12BinaryOutputE"title="output::BinaryOutput">BinaryOutput</a><code class="descname">set_inverted</code><span class="sig-paren">(</span>bool <em>inverted</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N6output12BinaryOutput12set_invertedEb"title="Permalink to this definition">¶</a><br><dd><p>Set the inversion state of this binary output.</dl><dl class="function"><dt id="_CPPv3N6output12BinaryOutput16set_power_supplyEP20PowerSupplyComponent"><span id="_CPPv2N6output12BinaryOutput16set_power_supplyEP20PowerSupplyComponent"></span><span id="output::BinaryOutput::set_power_supply__PowerSupplyComponentP"></span><span class="target"id="classoutput_1_1_binary_output_1a6846eb36ca26db98ca8271e1ae36518d"></span>void output::<a class="reference internal"href="#_CPPv3N6output12BinaryOutputE"title="output::BinaryOutput">BinaryOutput</a><code class="descname">set_power_supply</code><span class="sig-paren">(</span><a class="reference internal"href="../core/power-supply.html#_CPPv320PowerSupplyComponent"title="PowerSupplyComponent">PowerSupplyComponent</a> *<em>power_supply</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N6output12BinaryOutput16set_power_supplyEP20PowerSupplyComponent"title="Permalink to this definition">¶</a><br><dd><p>Use this to connect up a power supply to this output.<p>Whenever this output is enabled, the power supply will automatically be turned on.<p><dl class="docutils"><dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">power_supply</span></code>: The <a class="reference internal"href="../core/power-supply.html#class_power_supply_component"><span class="std std-ref">PowerSupplyComponent</span></a>, set this to nullptr to disable the power supply.</ul></dl><p></dl><dl class="function"><dt id="_CPPv3N6output12BinaryOutput6enableEv"><span id="_CPPv2N6output12BinaryOutput6enableEv"></span><span id="output::BinaryOutput::enable"></span><span class="target"id="classoutput_1_1_binary_output_1a6d313914e000f1a057e0ba284514ca59"></span>void output::<a class="reference internal"href="#_CPPv3N6output12BinaryOutputE"title="output::BinaryOutput">BinaryOutput</a><code class="descname">enable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N6output12BinaryOutput6enableEv"title="Permalink to this definition">¶</a><br><dd><p>Enable this binary output.</dl><dl class="function"><dt id="_CPPv3N6output12BinaryOutput7disableEv"><span id="_CPPv2N6output12BinaryOutput7disableEv"></span><span id="output::BinaryOutput::disable"></span><span class="target"id="classoutput_1_1_binary_output_1afcb75b41821142111d26bb703ba82fa9"></span>void output::<a class="reference internal"href="#_CPPv3N6output12BinaryOutputE"title="output::BinaryOutput">BinaryOutput</a><code class="descname">disable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N6output12BinaryOutput7disableEv"title="Permalink to this definition">¶</a><br><dd><p>Disable this binary output.</dl><dl class="function"><dt id="_CPPv3NK6output12BinaryOutput11is_invertedEv"><span id="_CPPv2NK6output12BinaryOutput11is_invertedEv"></span><span id="output::BinaryOutput::is_invertedC"></span><span class="target"id="classoutput_1_1_binary_output_1ade9dd1242031c205f05851add0c4989b"></span>bool output::<a class="reference internal"href="#_CPPv3N6output12BinaryOutputE"title="output::BinaryOutput">BinaryOutput</a><code class="descname">is_inverted</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK6output12BinaryOutput11is_invertedEv"title="Permalink to this definition">¶</a><br><dd><p>Return whether this binary output is inverted.</dl><dl class="function"><dt id="_CPPv3NK6output12BinaryOutput16get_power_supplyEv"><span id="_CPPv2NK6output12BinaryOutput16get_power_supplyEv"></span><span id="output::BinaryOutput::get_power_supplyC"></span><span class="target"id="classoutput_1_1_binary_output_1a558a206e99dbbd7d534ac09f87751cc5"></span><a class="reference internal"href="../core/power-supply.html#_CPPv320PowerSupplyComponent"title="PowerSupplyComponent">PowerSupplyComponent</a> *output::<a class="reference internal"href="#_CPPv3N6output12BinaryOutputE"title="output::BinaryOutput">BinaryOutput</a><code class="descname">get_power_supply</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK6output12BinaryOutput16get_power_supplyEv"title="Permalink to this definition">¶</a><br><dd><p>Return the power supply assigned to this binary output.</dl></div><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Protected Attributes<dl class="member"><dt id="_CPPv3N6output12BinaryOutput9inverted_E"><span id="_CPPv2N6output12BinaryOutput9inverted_E"></span><span id="output::BinaryOutput::inverted___b"></span><span class="target"id="classoutput_1_1_binary_output_1aa17db9b062083514abce2b26e52cced9"></span>bool output::<a class="reference internal"href="#_CPPv3N6output12BinaryOutputE"title="output::BinaryOutput">BinaryOutput</a><code class="descname">inverted_</code> = {false}<a class="headerlink"href="#_CPPv3N6output12BinaryOutput9inverted_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N6output12BinaryOutput13power_supply_E"><span id="_CPPv2N6output12BinaryOutput13power_supply_E"></span><span id="output::BinaryOutput::power_supply___PowerSupplyComponentP"></span><span class="target"id="classoutput_1_1_binary_output_1a598201f7c682f694e2339586643d133f"></span><a class="reference internal"href="../core/power-supply.html#_CPPv320PowerSupplyComponent"title="PowerSupplyComponent">PowerSupplyComponent</a> *output::<a class="reference internal"href="#_CPPv3N6output12BinaryOutputE"title="output::BinaryOutput">BinaryOutput</a><code class="descname">power_supply_</code> = {nullptr}<a class="headerlink"href="#_CPPv3N6output12BinaryOutput13power_supply_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N6output12BinaryOutput25has_requested_high_power_E"><span id="_CPPv2N6output12BinaryOutput25has_requested_high_power_E"></span><span id="output::BinaryOutput::has_requested_high_power___b"></span><span class="target"id="classoutput_1_1_binary_output_1a3ac12b3e11f3fc1ee36c80b211e0c82b"></span>bool output::<a class="reference internal"href="#_CPPv3N6output12BinaryOutputE"title="output::BinaryOutput">BinaryOutput</a><code class="descname">has_requested_high_power_</code> = {false}<a class="headerlink"href="#_CPPv3N6output12BinaryOutput25has_requested_high_power_E"title="Permalink to this definition">¶</a><br><dd></dl></div></dl></div><div class="section"id="floatoutput"><h3>FloatOutput<a class="headerlink"href="#floatoutput"title="Permalink to this headline">¶</a></h3><dl class="class"><dt id="_CPPv3N6output11FloatOutputE"><span id="_CPPv2N6output11FloatOutputE"></span><span id="output::FloatOutput"></span><span class="target"id="classoutput_1_1_float_output"></span><em class="property">class </em>output<code class="descclassname">::</code><code class="descname">FloatOutput</code><a class="headerlink"href="#_CPPv3N6output11FloatOutputE"title="Permalink to this definition">¶</a><br><dd><p>Base class for all output components that can output a variable level, like PWM.<p>Floating Point Outputs always use output values in the range from 0.0 to 1.0 (inclusive), where 0.0 means off and 1.0 means fully on. While using floating point numbers might make computation slower, it makes using maths much easier and (in theory) supports all possible bit depths.<p>If you want to create a <a class="reference internal"href="#classoutput_1_1_float_output"><span class="std std-ref">FloatOutput</span></a> yourself, you essentially just have to override <a class="reference internal"href="#classoutput_1_1_float_output_1a5da0c9aee4b2e394ec88400d95295327"><span class="std std-ref">write_state(float)</span></a>. That method will be called for you with inversion and max power already applied. It is<p>This interface is compatible with <a class="reference internal"href="#classoutput_1_1_binary_output"><span class="std std-ref">BinaryOutput</span></a> (and will automatically convert the binary states to floating point states for you). Additionally, this class provides a way for users to set a maximum power output<p>Inherits from <a class="reference internal"href="#classoutput_1_1_binary_output"><span class="std std-ref">output::BinaryOutput</span></a><p>Subclassed by <a class="reference internal"href="esp8266-pwm.html#classoutput_1_1_e_s_p8266_p_w_m_output"><span class="std std-ref">output::ESP8266PWMOutput</span></a>, <a class="reference internal"href="ledc.html#classoutput_1_1_l_e_d_c_output_component"><span class="std std-ref">output::LEDCOutputComponent</span></a>, <a class="reference internal"href="pca9685.html#classoutput_1_1_p_c_a9685_output_component_1_1_channel"><span class="std std-ref">output::PCA9685OutputComponent::Channel</span></a><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Public Functions<dl class="function"><dt id="_CPPv3N6output11FloatOutput11write_stateEf"><span id="_CPPv2N6output11FloatOutput11write_stateEf"></span><span id="output::FloatOutput::write_state__float"></span><span class="target"id="classoutput_1_1_float_output_1a5da0c9aee4b2e394ec88400d95295327"></span><em class="property">virtual</em> void output::<a class="reference internal"href="#_CPPv3N6output11FloatOutputE"title="output::FloatOutput">FloatOutput</a><code class="descname">write_state</code><span class="sig-paren">(</span>float <em>state</em><span class="sig-paren">)</span> = 0<a class="headerlink"href="#_CPPv3N6output11FloatOutput11write_stateEf"title="Permalink to this definition">¶</a><br><dd><p>Write a floating point state to hardware, inversion and max_power is already applied.</dl><dl class="function"><dt id="_CPPv3N6output11FloatOutput13set_max_powerEf"><span id="_CPPv2N6output11FloatOutput13set_max_powerEf"></span><span id="output::FloatOutput::set_max_power__float"></span><span class="target"id="classoutput_1_1_float_output_1a9c506d230e3c2816068c219eb5d4c5a0"></span>void output::<a class="reference internal"href="#_CPPv3N6output11FloatOutputE"title="output::FloatOutput">FloatOutput</a><code class="descname">set_max_power</code><span class="sig-paren">(</span>float <em>max_power</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N6output11FloatOutput13set_max_powerEf"title="Permalink to this definition">¶</a><br><dd><p>Set the maximum power output of this component.<p>All values are multiplied by this float to get the adjusted value.<p><dl class="docutils"><dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">max_power</span></code>: Automatically clamped from 0 to 1.</ul></dl><p></dl><dl class="function"><dt id="_CPPv3N6output11FloatOutput10set_state_Ef"><span id="_CPPv2N6output11FloatOutput10set_state_Ef"></span><span id="output::FloatOutput::set_state___float"></span><span class="target"id="classoutput_1_1_float_output_1ab8fe0be89afd7bad2b9c72cd48bc4dd3"></span>void output::<a class="reference internal"href="#_CPPv3N6output11FloatOutputE"title="output::FloatOutput">FloatOutput</a><code class="descname">set_state_</code><span class="sig-paren">(</span>float <em>state</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N6output11FloatOutput10set_state_Ef"title="Permalink to this definition">¶</a><br><dd><p>This is the method that is called internally by the MQTT component.</dl><dl class="function"><dt id="_CPPv3N6output11FloatOutput6enableEv"><span id="_CPPv2N6output11FloatOutput6enableEv"></span><span id="output::FloatOutput::enable"></span><span class="target"id="classoutput_1_1_float_output_1a8fe2f3cb497741ba8e2dce5a906e078d"></span>void output::<a class="reference internal"href="#_CPPv3N6output11FloatOutputE"title="output::FloatOutput">FloatOutput</a><code class="descname">enable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N6output11FloatOutput6enableEv"title="Permalink to this definition">¶</a><br><dd><p>Override <a class="reference internal"href="#classoutput_1_1_binary_output"><span class="std std-ref">BinaryOutput</span></a>’s <a class="reference internal"href="#classoutput_1_1_float_output_1a8fe2f3cb497741ba8e2dce5a906e078d"><span class="std std-ref">enable()</span></a> and <a class="reference internal"href="#classoutput_1_1_float_output_1a27d125c0f427d1818f292ea18b8cb2fe"><span class="std std-ref">disable()</span></a> so that we can convert it to float.</dl><dl class="function"><dt id="_CPPv3N6output11FloatOutput7disableEv"><span id="_CPPv2N6output11FloatOutput7disableEv"></span><span id="output::FloatOutput::disable"></span><span class="target"id="classoutput_1_1_float_output_1a27d125c0f427d1818f292ea18b8cb2fe"></span>void output::<a class="reference internal"href="#_CPPv3N6output11FloatOutputE"title="output::FloatOutput">FloatOutput</a><code class="descname">disable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N6output11FloatOutput7disableEv"title="Permalink to this definition">¶</a><br><dd><p>Override <a class="reference internal"href="#classoutput_1_1_binary_output"><span class="std std-ref">BinaryOutput</span></a>’s <a class="reference internal"href="#classoutput_1_1_float_output_1a8fe2f3cb497741ba8e2dce5a906e078d"><span class="std std-ref">enable()</span></a> and <a class="reference internal"href="#classoutput_1_1_float_output_1a27d125c0f427d1818f292ea18b8cb2fe"><span class="std std-ref">disable()</span></a> so that we can convert it to float.</dl><dl class="function"><dt id="_CPPv3NK6output11FloatOutput13get_max_powerEv"><span id="_CPPv2NK6output11FloatOutput13get_max_powerEv"></span><span id="output::FloatOutput::get_max_powerC"></span><span class="target"id="classoutput_1_1_float_output_1a9b45c5e299cc5a2770f9979f6e124217"></span>float output::<a class="reference internal"href="#_CPPv3N6output11FloatOutputE"title="output::FloatOutput">FloatOutput</a><code class="descname">get_max_power</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK6output11FloatOutput13get_max_powerEv"title="Permalink to this definition">¶</a><br><dd><p>Get the maximum power output.</dl><dl class="function"><dt id="_CPPv3N6output11FloatOutput13write_enabledEb"><span id="_CPPv2N6output11FloatOutput13write_enabledEb"></span><span id="output::FloatOutput::write_enabled__b"></span><span class="target"id="classoutput_1_1_float_output_1ab4278a2f82c9c2a83d794002d940f830"></span>void output::<a class="reference internal"href="#_CPPv3N6output11FloatOutputE"title="output::FloatOutput">FloatOutput</a><code class="descname">write_enabled</code><span class="sig-paren">(</span>bool <em>value</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N6output11FloatOutput13write_enabledEb"title="Permalink to this definition">¶</a><br><dd><p>Implement BinarySensor’s write_enabled; this should never be called.</dl></div><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Protected Attributes<dl class="member"><dt id="_CPPv3N6output11FloatOutput10max_power_E"><span id="_CPPv2N6output11FloatOutput10max_power_E"></span><span id="output::FloatOutput::max_power___float"></span><span class="target"id="classoutput_1_1_float_output_1ae3edb66127c9592d4681a023c263eff9"></span>float output::<a class="reference internal"href="#_CPPv3N6output11FloatOutputE"title="output::FloatOutput">FloatOutput</a><code class="descname">max_power_</code> = {1.0f}<a class="headerlink"href="#_CPPv3N6output11FloatOutput10max_power_E"title="Permalink to this definition">¶</a><br><dd></dl></div></dl></div></div></div></div></div></div><div class="sphinxsidebar"role="navigation"aria-label="main navigation"><div class="sphinxsidebarwrapper"><div class="relations"><h3>Related Topics</h3><ul><li><a href="../../index.html">Documentation overview</a><ul><li><a href="../index.html">API Reference</a><ul><li>Previous: <a href="../binary_sensor/template.html"title="previous chapter">Template Binary Sensor</a><li>Next: <a href="gpio-binary.html"title="next chapter">GPIO Binary Output</a></ul></ul></ul></div><div id="searchbox"style="display: none"role="search"><h3>Quick search</h3><div class="searchformwrapper"><form class="search"action="../../search.html"><input name="q"> <input type="submit"value="Go"> <input type="hidden"name="check_keywords"value="yes"> <input type="hidden"name="area"value="default"></form></div></div><script>$('#searchbox').show(0);</script></div></div><div class="clearer"></div></div><div class="footer">&copy;2018, Otto Winter. | Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.2</a> &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a> | <a href="../../_sources/api/output/index.rst.txt"rel="nofollow">Page source</a></div>