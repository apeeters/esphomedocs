<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><meta http-equiv="X-UA-Compatible"content="IE=Edge"><meta http-equiv="Content-Type"content="text/html; charset=utf-8"><title>Fan &#8212; esphomelib 1.6.2 documentation</title><link rel="stylesheet"href="../../_static/alabaster.css"type="text/css"><link rel="stylesheet"href="../../_static/pygments.css"type="text/css"><script src="../../_static/documentation_options.js"></script><script src="../../_static/jquery.js"></script><script src="../../_static/underscore.js"></script><script src="../../_static/doctools.js"></script><link rel="index"title="Index"href="../../genindex.html"><link rel="search"title="Search"href="../../search.html"><link rel="next"title="Light"href="../light/index.html"><link rel="prev"title="ESP8266 Software PWM"href="../output/esp8266-pwm.html"><link rel="stylesheet"href="../../_static/custom.css"type="text/css"><meta name="viewport"content="width=device-width,initial-scale=0.9,maximum-scale=0.9"><div class="document"><div class="documentwrapper"><div class="bodywrapper"><div class="body"role="main"><div class="section"id="fan"><h1>Fan<a class="headerlink"href="#fan"title="Permalink to this headline">¶</a></h1><p>Fans in esphomelib are implemented like lights. Both the hardware and the MQTT frontend access a combined <a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">FanState</span></code></a> object and use only that to set state and receive state updates.<div class="section"id="example-usage"><h2>Example Usage<a class="headerlink"href="#example-usage"title="Permalink to this headline">¶</a></h2><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Basic</span>
<span class="k">auto</span> <span class="n">fan</span> <span class="o">=</span> <span class="n">App</span><span class="p">.</span><span class="n">make_fan</span><span class="p">(</span><span class="s">&quot;Fan&quot;</span><span class="p">);</span>
<span class="n">fan</span><span class="p">.</span><span class="n">output</span><span class="o">-&gt;</span><span class="n">set_binary</span><span class="p">(</span><span class="n">App</span><span class="p">.</span><span class="n">make_gpio_output</span><span class="p">(</span><span class="mi">34</span><span class="p">));</span>
<span class="c1">// Speed</span>
<span class="k">auto</span> <span class="n">speed_fan</span> <span class="o">=</span> <span class="n">App</span><span class="p">.</span><span class="n">make_fan</span><span class="p">(</span><span class="s">&quot;Speed Fan&quot;</span><span class="p">);</span>
<span class="n">fan</span><span class="p">.</span><span class="n">output</span><span class="o">-&gt;</span><span class="n">set_speed</span><span class="p">(</span><span class="n">App</span><span class="p">.</span><span class="n">make_ledc_output</span><span class="p">(</span><span class="mi">34</span><span class="p">));</span>
<span class="c1">// Oscillation</span>
<span class="k">auto</span> <span class="n">oscillating_fan</span> <span class="o">=</span> <span class="n">App</span><span class="p">.</span><span class="n">make_fan</span><span class="p">(</span><span class="s">&quot;Oscillating Fan&quot;</span><span class="p">);</span>
<span class="n">oscillating_fan</span><span class="p">.</span><span class="n">output</span><span class="o">-&gt;</span><span class="n">set_binary</span><span class="p">(</span><span class="n">App</span><span class="p">.</span><span class="n">make_gpio_output</span><span class="p">(</span><span class="mi">34</span><span class="p">));</span>
<span class="n">oscillating_fan</span><span class="p">.</span><span class="n">output</span><span class="o">-&gt;</span><span class="n">set_oscillation</span><span class="p">(</span><span class="n">App</span><span class="p">.</span><span class="n">make_gpio_output</span><span class="p">(</span><span class="mi">35</span><span class="p">));</span>
</pre></div></div><p>See <a class="reference internal"href="../core/application.html#_CPPv3N11Application8make_fanERKNSt6stringE"title="Application::make_fan"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Application::make_fan()</span></code></a>.</div><div class="section"id="api-reference"><h2>API Reference<a class="headerlink"href="#api-reference"title="Permalink to this headline">¶</a></h2><div class="section"id="fanstate"><h3>FanState<a class="headerlink"href="#fanstate"title="Permalink to this headline">¶</a></h3><dl class="class"><dt id="_CPPv3N3fan8FanStateE"><span id="_CPPv2N3fan8FanStateE"></span><span id="fan::FanState"></span><span class="target"id="classfan_1_1_fan_state"></span><em class="property">class </em>fan<code class="descclassname">::</code><code class="descname">FanState</code><a class="headerlink"href="#_CPPv3N3fan8FanStateE"title="Permalink to this definition">¶</a><br><dd><p>This class is shared between the hardware backend and the MQTT frontend to share state.<p>A fan state has several variables that determine the current state: state (ON/OFF), speed (OFF, LOW, MEDIUM, HIGH), oscillating (ON/OFF) and traits (what features are supported). Both the frontend and the backend can register callbacks whenever a state is changed from the frontend and whenever a state is actually changed and should be pushed to the frontend<p>Inherits from Nameable<div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Public Functions<dl class="function"><dt id="_CPPv3N3fan8FanState8FanStateERKNSt6stringE"><span id="_CPPv2N3fan8FanState8FanStateERKNSt6stringE"></span><span id="fan::FanState::FanState__ssCR"></span><span class="target"id="classfan_1_1_fan_state_1a2256118de32d94daf1e27672c3245922"></span>fan::<a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a><code class="descname">FanState</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>name</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan8FanState8FanStateERKNSt6stringE"title="Permalink to this definition">¶</a><br><dd><p>Construct the fan state with name.</dl><dl class="function"><dt id="_CPPv3N3fan8FanState28add_on_state_change_callbackERRNSt8functionIFvvEEE"><span id="_CPPv2N3fan8FanState28add_on_state_change_callbackERRNSt8functionIFvvEEE"></span><span class="target"id="classfan_1_1_fan_state_1a710ca656bfec6b7587190d41951ef069"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a><code class="descname">add_on_state_change_callback</code><span class="sig-paren">(</span>std::function&lt;void<span class="sig-paren">(</span><span class="sig-paren">)</span>&gt; &amp;&amp;<em>update_callback</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan8FanState28add_on_state_change_callbackERRNSt8functionIFvvEEE"title="Permalink to this definition">¶</a><br><dd><p>Register a callback that will be called each time the state changes.</dl><dl class="function"><dt id="_CPPv3NK3fan8FanState9get_stateEv"><span id="_CPPv2NK3fan8FanState9get_stateEv"></span><span id="fan::FanState::get_stateC"></span><span class="target"id="classfan_1_1_fan_state_1afa77123f0dbc9f172b94da32bb6f49a4"></span>bool fan::<a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a><code class="descname">get_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK3fan8FanState9get_stateEv"title="Permalink to this definition">¶</a><br><dd><p>Get the current ON/OFF state of this fan.</dl><dl class="function"><dt id="_CPPv3N3fan8FanState9set_stateEb"><span id="_CPPv2N3fan8FanState9set_stateEb"></span><span id="fan::FanState::set_state__b"></span><span class="target"id="classfan_1_1_fan_state_1aa467e9ab3ca2a6eddbf904604cac3dee"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a><code class="descname">set_state</code><span class="sig-paren">(</span>bool <em>state</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan8FanState9set_stateEb"title="Permalink to this definition">¶</a><br><dd><p>Set the current ON/OFF state of this fan.</dl><dl class="function"><dt id="_CPPv3NK3fan8FanState14is_oscillatingEv"><span id="_CPPv2NK3fan8FanState14is_oscillatingEv"></span><span id="fan::FanState::is_oscillatingC"></span><span class="target"id="classfan_1_1_fan_state_1a21398d3db9ce7c7b2924526b4f7649bf"></span>bool fan::<a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a><code class="descname">is_oscillating</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK3fan8FanState14is_oscillatingEv"title="Permalink to this definition">¶</a><br><dd><p>Get the current oscillating state of this fan.</dl><dl class="function"><dt id="_CPPv3N3fan8FanState15set_oscillatingEb"><span id="_CPPv2N3fan8FanState15set_oscillatingEb"></span><span id="fan::FanState::set_oscillating__b"></span><span class="target"id="classfan_1_1_fan_state_1a4d95a54850ba0794f6700faceb5473b1"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a><code class="descname">set_oscillating</code><span class="sig-paren">(</span>bool <em>oscillating</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan8FanState15set_oscillatingEb"title="Permalink to this definition">¶</a><br><dd><p>Set the current oscillating state of this fan.</dl><dl class="function"><dt id="_CPPv3NK3fan8FanState9get_speedEv"><span id="_CPPv2NK3fan8FanState9get_speedEv"></span><span id="fan::FanState::get_speedC"></span><span class="target"id="classfan_1_1_fan_state_1a71df8c8c05ee879c489e9cd4836c16eb"></span>FanSpeed fan::<a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a><code class="descname">get_speed</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK3fan8FanState9get_speedEv"title="Permalink to this definition">¶</a><br><dd><p>Get the current speed of this fan.</dl><dl class="function"><dt id="_CPPv3N3fan8FanState9set_speedE8FanSpeed"><span id="_CPPv2N3fan8FanState9set_speedE8FanSpeed"></span><span id="fan::FanState::set_speed__FanSpeed"></span><span class="target"id="classfan_1_1_fan_state_1a1cebdfd19d3a805ae5952e89b1bfce4d"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a><code class="descname">set_speed</code><span class="sig-paren">(</span>FanSpeed <em>speed</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan8FanState9set_speedE8FanSpeed"title="Permalink to this definition">¶</a><br><dd><p>Set the current speed of this fan.</dl><dl class="function"><dt id="_CPPv3N3fan8FanState9set_speedEPKc"><span id="_CPPv2N3fan8FanState9set_speedEPKc"></span><span id="fan::FanState::set_speed__cCP"></span><span class="target"id="classfan_1_1_fan_state_1afccbb3f89c1495736d4c5bb013ba1585"></span>bool fan::<a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a><code class="descname">set_speed</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>speed</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan8FanState9set_speedEPKc"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3NK3fan8FanState10get_traitsEv"><span id="_CPPv2NK3fan8FanState10get_traitsEv"></span><span id="fan::FanState::get_traitsC"></span><span class="target"id="classfan_1_1_fan_state_1aca0d125db3cf869963b6cdb324fac02c"></span><em class="property">const</em> <a class="reference internal"href="#_CPPv3N3fan9FanTraitsE"title="fan::FanTraits">FanTraits</a> &amp;fan::<a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a><code class="descname">get_traits</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK3fan8FanState10get_traitsEv"title="Permalink to this definition">¶</a><br><dd><p>Get the traits of this fan (i.e. what features it supports).</dl><dl class="function"><dt id="_CPPv3N3fan8FanState10set_traitsERK9FanTraits"><span id="_CPPv2N3fan8FanState10set_traitsERK9FanTraits"></span><span id="fan::FanState::set_traits__FanTraitsCR"></span><span class="target"id="classfan_1_1_fan_state_1a951a1ef998bbafd103d74406730c8a90"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a><code class="descname">set_traits</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal"href="#_CPPv3N3fan9FanTraitsE"title="fan::FanTraits">FanTraits</a> &amp;<em>traits</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan8FanState10set_traitsERK9FanTraits"title="Permalink to this definition">¶</a><br><dd><p>Set the traits of this fan (i.e. what features it supports).</dl><dl class="function"><dt id="_CPPv3N3fan8FanState21load_from_preferencesEv"><span id="_CPPv2N3fan8FanState21load_from_preferencesEv"></span><span id="fan::FanState::load_from_preferences"></span><span class="target"id="classfan_1_1_fan_state_1ad65e2530f3fc7be24c494ebe4bffe892"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a><code class="descname">load_from_preferences</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan8FanState21load_from_preferencesEv"title="Permalink to this definition">¶</a><br><dd><p>Load a fan state from the preferences into this object.</dl><dl class="function"><dt id="_CPPv3N3fan8FanState19save_to_preferencesEv"><span id="_CPPv2N3fan8FanState19save_to_preferencesEv"></span><span id="fan::FanState::save_to_preferences"></span><span class="target"id="classfan_1_1_fan_state_1a5bf802fe3171c722ca823f715050214d"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a><code class="descname">save_to_preferences</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan8FanState19save_to_preferencesEv"title="Permalink to this definition">¶</a><br><dd><p>Save the fan state from this object into the preferences.</dl><dl class="function"><dt><em class="property">template </em>&lt;<em class="property">typename</em> T&gt;<dt id="_CPPv3N3fan8FanState19make_turn_on_actionEv"><span id="_CPPv2N3fan8FanState19make_turn_on_actionEv"></span><span id="fan::FanState::make_turn_on_action"></span><span class="target"id="classfan_1_1_fan_state_1a3c77304a22cac945de45a611e933893b"></span>TurnOnAction&lt;T&gt; *fan::<a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a><code class="descname">make_turn_on_action</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan8FanState19make_turn_on_actionEv"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt><em class="property">template </em>&lt;<em class="property">typename</em> T&gt;<dt id="_CPPv3N3fan8FanState20make_turn_off_actionEv"><span id="_CPPv2N3fan8FanState20make_turn_off_actionEv"></span><span id="fan::FanState::make_turn_off_action"></span><span class="target"id="classfan_1_1_fan_state_1aa5d7b59f4dfc74ce454a2f96d7654061"></span>TurnOffAction&lt;T&gt; *fan::<a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a><code class="descname">make_turn_off_action</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan8FanState20make_turn_off_actionEv"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt><em class="property">template </em>&lt;<em class="property">typename</em> T&gt;<dt id="_CPPv3N3fan8FanState18make_toggle_actionEv"><span id="_CPPv2N3fan8FanState18make_toggle_actionEv"></span><span id="fan::FanState::make_toggle_action"></span><span class="target"id="classfan_1_1_fan_state_1a17b0dee4ef6a45b7fd41bf1c90af2c9d"></span>ToggleAction&lt;T&gt; *fan::<a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a><code class="descname">make_toggle_action</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan8FanState18make_toggle_actionEv"title="Permalink to this definition">¶</a><br><dd></dl></div><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Protected Attributes<dl class="member"><dt id="_CPPv3N3fan8FanState6state_E"><span id="_CPPv2N3fan8FanState6state_E"></span><span id="fan::FanState::state___b"></span><span class="target"id="classfan_1_1_fan_state_1a4c6e0d88d5c937203b29f44f43861ca7"></span>bool fan::<a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a><code class="descname">state_</code> = {false}<a class="headerlink"href="#_CPPv3N3fan8FanState6state_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N3fan8FanState12oscillating_E"><span id="_CPPv2N3fan8FanState12oscillating_E"></span><span id="fan::FanState::oscillating___b"></span><span class="target"id="classfan_1_1_fan_state_1a42cb4da00b136814d73ee2cb4c266c6d"></span>bool fan::<a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a><code class="descname">oscillating_</code> = {false}<a class="headerlink"href="#_CPPv3N3fan8FanState12oscillating_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N3fan8FanState6speed_E"><span id="_CPPv2N3fan8FanState6speed_E"></span><span id="fan::FanState::speed___FanSpeed"></span><span class="target"id="classfan_1_1_fan_state_1a8aa4f3a8cfa8d0c2fc124606d7781604"></span>FanSpeed fan::<a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a><code class="descname">speed_</code> = {FAN_SPEED_HIGH}<a class="headerlink"href="#_CPPv3N3fan8FanState6speed_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N3fan8FanState7traits_E"><span id="_CPPv2N3fan8FanState7traits_E"></span><span id="fan::FanState::traits___FanTraits"></span><span class="target"id="classfan_1_1_fan_state_1a709433df0446e264eb22f517dbc60ccd"></span><a class="reference internal"href="#_CPPv3N3fan9FanTraitsE"title="fan::FanTraits">FanTraits</a> fan::<a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a><code class="descname">traits_</code> = {}<a class="headerlink"href="#_CPPv3N3fan8FanState7traits_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N3fan8FanState15state_callback_E"><span id="_CPPv2N3fan8FanState15state_callback_E"></span><span class="target"id="classfan_1_1_fan_state_1ad4c200ddd2efc9cd1e232fc64a478a4f"></span>CallbackManager&lt;void<span class="sig-paren">(</span><span class="sig-paren">)</span>&gt; fan::<a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a><code class="descname">state_callback_</code> = {}<a class="headerlink"href="#_CPPv3N3fan8FanState15state_callback_E"title="Permalink to this definition">¶</a><br><dd></dl></div></dl></div><div class="section"id="fantraits"><h3>FanTraits<a class="headerlink"href="#fantraits"title="Permalink to this headline">¶</a></h3><dl class="class"><dt id="_CPPv3N3fan9FanTraitsE"><span id="_CPPv2N3fan9FanTraitsE"></span><span id="fan::FanTraits"></span><span class="target"id="classfan_1_1_fan_traits"></span><em class="property">class </em>fan<code class="descclassname">::</code><code class="descname">FanTraits</code><a class="headerlink"href="#_CPPv3N3fan9FanTraitsE"title="Permalink to this definition">¶</a><br><dd><p>This class represents the capabilities/feature set of a fan.<div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Public Functions<dl class="function"><dt id="_CPPv3N3fan9FanTraits9FanTraitsEv"><span id="_CPPv2N3fan9FanTraits9FanTraitsEv"></span><span id="fan::FanTraits::FanTraits"></span><span class="target"id="classfan_1_1_fan_traits_1a06d048623bb0285199c79e728c86995c"></span>fan::<a class="reference internal"href="#_CPPv3N3fan9FanTraitsE"title="fan::FanTraits">FanTraits</a><code class="descname">FanTraits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan9FanTraits9FanTraitsEv"title="Permalink to this definition">¶</a><br><dd><p>Construct an empty <a class="reference internal"href="#classfan_1_1_fan_traits"><span class="std std-ref">FanTraits</span></a> object. All features will be marked unsupported.</dl><dl class="function"><dt id="_CPPv3N3fan9FanTraits9FanTraitsEbb"><span id="_CPPv2N3fan9FanTraits9FanTraitsEbb"></span><span id="fan::FanTraits::FanTraits__b.b"></span><span class="target"id="classfan_1_1_fan_traits_1abba67333a9777a982db2fd70c11c08bc"></span>fan::<a class="reference internal"href="#_CPPv3N3fan9FanTraitsE"title="fan::FanTraits">FanTraits</a><code class="descname">FanTraits</code><span class="sig-paren">(</span>bool <em>oscillation</em>, bool <em>speed</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan9FanTraits9FanTraitsEbb"title="Permalink to this definition">¶</a><br><dd><p>Construct a <a class="reference internal"href="#classfan_1_1_fan_traits"><span class="std std-ref">FanTraits</span></a> object with the provided oscillation and speed support.</dl><dl class="function"><dt id="_CPPv3NK3fan9FanTraits20supports_oscillationEv"><span id="_CPPv2NK3fan9FanTraits20supports_oscillationEv"></span><span id="fan::FanTraits::supports_oscillationC"></span><span class="target"id="classfan_1_1_fan_traits_1a41a09258aa7ffdc7ee712696688436d0"></span>bool fan::<a class="reference internal"href="#_CPPv3N3fan9FanTraitsE"title="fan::FanTraits">FanTraits</a><code class="descname">supports_oscillation</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK3fan9FanTraits20supports_oscillationEv"title="Permalink to this definition">¶</a><br><dd><p>Return if this fan supports oscillation.</dl><dl class="function"><dt id="_CPPv3N3fan9FanTraits15set_oscillationEb"><span id="_CPPv2N3fan9FanTraits15set_oscillationEb"></span><span id="fan::FanTraits::set_oscillation__b"></span><span class="target"id="classfan_1_1_fan_traits_1af4e7b35fc78b85e89894d684b36cce8d"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan9FanTraitsE"title="fan::FanTraits">FanTraits</a><code class="descname">set_oscillation</code><span class="sig-paren">(</span>bool <em>oscillation</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan9FanTraits15set_oscillationEb"title="Permalink to this definition">¶</a><br><dd><p>Set whether this fan supports oscillation.</dl><dl class="function"><dt id="_CPPv3NK3fan9FanTraits14supports_speedEv"><span id="_CPPv2NK3fan9FanTraits14supports_speedEv"></span><span id="fan::FanTraits::supports_speedC"></span><span class="target"id="classfan_1_1_fan_traits_1affd6ca59af6bb782ac1baa6029816e17"></span>bool fan::<a class="reference internal"href="#_CPPv3N3fan9FanTraitsE"title="fan::FanTraits">FanTraits</a><code class="descname">supports_speed</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK3fan9FanTraits14supports_speedEv"title="Permalink to this definition">¶</a><br><dd><p>Return if this fan supports speed modes.</dl><dl class="function"><dt id="_CPPv3N3fan9FanTraits9set_speedEb"><span id="_CPPv2N3fan9FanTraits9set_speedEb"></span><span id="fan::FanTraits::set_speed__b"></span><span class="target"id="classfan_1_1_fan_traits_1a91ab944f28988ec85215b7ec651c7a49"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan9FanTraitsE"title="fan::FanTraits">FanTraits</a><code class="descname">set_speed</code><span class="sig-paren">(</span>bool <em>speed</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan9FanTraits9set_speedEb"title="Permalink to this definition">¶</a><br><dd><p>Set whether this fan supports speed modes.</dl></div><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Protected Attributes<dl class="member"><dt id="_CPPv3N3fan9FanTraits12oscillation_E"><span id="_CPPv2N3fan9FanTraits12oscillation_E"></span><span id="fan::FanTraits::oscillation___b"></span><span class="target"id="classfan_1_1_fan_traits_1a9d9242d8049b3bb5a707adab3b071ca2"></span>bool fan::<a class="reference internal"href="#_CPPv3N3fan9FanTraitsE"title="fan::FanTraits">FanTraits</a><code class="descname">oscillation_</code><a class="headerlink"href="#_CPPv3N3fan9FanTraits12oscillation_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N3fan9FanTraits6speed_E"><span id="_CPPv2N3fan9FanTraits6speed_E"></span><span id="fan::FanTraits::speed___b"></span><span class="target"id="classfan_1_1_fan_traits_1ad083b7e2a0594ebd11f8764388536d76"></span>bool fan::<a class="reference internal"href="#_CPPv3N3fan9FanTraitsE"title="fan::FanTraits">FanTraits</a><code class="descname">speed_</code><a class="headerlink"href="#_CPPv3N3fan9FanTraits6speed_E"title="Permalink to this definition">¶</a><br><dd></dl></div></dl></div><div class="section"id="basicfancomponent"><h3>BasicFanComponent<a class="headerlink"href="#basicfancomponent"title="Permalink to this headline">¶</a></h3><dl class="class"><dt id="_CPPv3N3fan17BasicFanComponentE"><span id="_CPPv2N3fan17BasicFanComponentE"></span><span id="fan::BasicFanComponent"></span><span class="target"id="classfan_1_1_basic_fan_component"></span><em class="property">class </em>fan<code class="descclassname">::</code><code class="descname">BasicFanComponent</code><a class="headerlink"href="#_CPPv3N3fan17BasicFanComponentE"title="Permalink to this definition">¶</a><br><dd><p>Simple fan helper that pushes the states to BinaryOutput/FloatOutput devices.<p>Inherits from <a class="reference internal"href="../core/component.html#class_component"><span class="std std-ref">Component</span></a><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Public Functions<dl class="function"><dt id="_CPPv3N3fan17BasicFanComponent10set_binaryEPN6output12BinaryOutputE"><span id="_CPPv2N3fan17BasicFanComponent10set_binaryEPN6output12BinaryOutputE"></span><span id="fan::BasicFanComponent::set_binary__output::BinaryOutputP"></span><span class="target"id="classfan_1_1_basic_fan_component_1acd8883b841a26b5be39016a674810db1"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan17BasicFanComponentE"title="fan::BasicFanComponent">BasicFanComponent</a><code class="descname">set_binary</code><span class="sig-paren">(</span>output::BinaryOutput *<em>output</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan17BasicFanComponent10set_binaryEPN6output12BinaryOutputE"title="Permalink to this definition">¶</a><br><dd><p>Create a fan that supports binary state operation (ON/OFF).<p>Can’t be mixed with set_speed.<p><dl class="docutils"><dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">output</span></code>: The binary output where all binary commands should land.</ul></dl><p></dl><dl class="function"><dt id="_CPPv3N3fan17BasicFanComponent9set_speedEPN6output11FloatOutputEffff"><span id="_CPPv2N3fan17BasicFanComponent9set_speedEPN6output11FloatOutputEffff"></span><span id="fan::BasicFanComponent::set_speed__output::FloatOutputP.float.float.float.float"></span><span class="target"id="classfan_1_1_basic_fan_component_1aa52ea51aab0d59d625643a4455f3f6d7"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan17BasicFanComponentE"title="fan::BasicFanComponent">BasicFanComponent</a><code class="descname">set_speed</code><span class="sig-paren">(</span>output::FloatOutput *<em>output</em>, float <em>off_speed</em> = 0.0, float <em>low_speed</em> = 0.33, float <em>medium_speed</em> = 0.66, float <em>high_speed</em> = 1.0<span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan17BasicFanComponent9set_speedEPN6output11FloatOutputEffff"title="Permalink to this definition">¶</a><br><dd><p>Create a fan that supports speed operation (OFF/LOW/MEDIUM/HIGH SPEED).<p>Can’t be mixed with set_binary.<p><dl class="docutils"><dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">output</span></code>: The FloatOutput where all speed/state commands should land.<li><code class="docutils literal notranslate"><span class="pre">off_speed</span></code>: The speed that should be sent to the output if the fan is OFF.<li><code class="docutils literal notranslate"><span class="pre">low_speed</span></code>: The speed that should be sent to the output if the fan is in LOW speed mode.<li><code class="docutils literal notranslate"><span class="pre">medium_speed</span></code>: The speed that should be sent to the output if the fan is in MEDIUM speed mode.<li><code class="docutils literal notranslate"><span class="pre">high_speed</span></code>: The speed that should be sent to the output if the fan is in HIGH speed mode.</ul></dl><p></dl><dl class="function"><dt id="_CPPv3N3fan17BasicFanComponent15set_oscillationEPN6output12BinaryOutputE"><span id="_CPPv2N3fan17BasicFanComponent15set_oscillationEPN6output12BinaryOutputE"></span><span id="fan::BasicFanComponent::set_oscillation__output::BinaryOutputP"></span><span class="target"id="classfan_1_1_basic_fan_component_1acc50f6722c592a7b2adbf35cfa9fc1fd"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan17BasicFanComponentE"title="fan::BasicFanComponent">BasicFanComponent</a><code class="descname">set_oscillation</code><span class="sig-paren">(</span>output::<a class="reference internal"href="../output/index.html#_CPPv3N6output12BinaryOutputE"title="output::BinaryOutput">BinaryOutput</a> *<em>oscillating_output</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan17BasicFanComponent15set_oscillationEPN6output12BinaryOutputE"title="Permalink to this definition">¶</a><br><dd><p>Set an oscillation output for this fan.<p><dl class="docutils"><dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">oscillating_output</span></code>: The binary output where all oscillation commands should land.</ul></dl><p></dl><dl class="function"><dt id="_CPPv3NK3fan17BasicFanComponent9get_stateEv"><span id="_CPPv2NK3fan17BasicFanComponent9get_stateEv"></span><span id="fan::BasicFanComponent::get_stateC"></span><span class="target"id="classfan_1_1_basic_fan_component_1a64956ccbe954e81bd9a9a9eacbf24ee4"></span><a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a> *fan::<a class="reference internal"href="#_CPPv3N3fan17BasicFanComponentE"title="fan::BasicFanComponent">BasicFanComponent</a><code class="descname">get_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK3fan17BasicFanComponent9get_stateEv"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N3fan17BasicFanComponent9set_stateEP8FanState"><span id="_CPPv2N3fan17BasicFanComponent9set_stateEP8FanState"></span><span id="fan::BasicFanComponent::set_state__FanStateP"></span><span class="target"id="classfan_1_1_basic_fan_component_1a31cc2c4bff54111a0092c87a32225012"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan17BasicFanComponentE"title="fan::BasicFanComponent">BasicFanComponent</a><code class="descname">set_state</code><span class="sig-paren">(</span><a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a> *<em>state</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan17BasicFanComponent9set_stateEP8FanState"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N3fan17BasicFanComponent5setupEv"><span id="_CPPv2N3fan17BasicFanComponent5setupEv"></span><span id="fan::BasicFanComponent::setup"></span><span class="target"id="classfan_1_1_basic_fan_component_1aace34e2a5c9b139b7f96c743a8f8b291"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan17BasicFanComponentE"title="fan::BasicFanComponent">BasicFanComponent</a><code class="descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan17BasicFanComponent5setupEv"title="Permalink to this definition">¶</a><br><dd><p>Where the component’s initialization should happen.<p>Analogous to Arduino’s <a class="reference internal"href="#classfan_1_1_basic_fan_component_1aace34e2a5c9b139b7f96c743a8f8b291"><span class="std std-ref">setup()</span></a>. This method is guaranteed to only be called once. Defaults to doing noting.</dl><dl class="function"><dt id="_CPPv3N3fan17BasicFanComponent4loopEv"><span id="_CPPv2N3fan17BasicFanComponent4loopEv"></span><span id="fan::BasicFanComponent::loop"></span><span class="target"id="classfan_1_1_basic_fan_component_1adc5980caad27b4bd4a898b9b78709b86"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan17BasicFanComponentE"title="fan::BasicFanComponent">BasicFanComponent</a><code class="descname">loop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan17BasicFanComponent4loopEv"title="Permalink to this definition">¶</a><br><dd><p>This method will be called repeatedly.<p>Analogous to Arduino’s <a class="reference internal"href="#classfan_1_1_basic_fan_component_1adc5980caad27b4bd4a898b9b78709b86"><span class="std std-ref">loop()</span></a>. <a class="reference internal"href="#classfan_1_1_basic_fan_component_1aace34e2a5c9b139b7f96c743a8f8b291"><span class="std std-ref">setup()</span></a> is guaranteed to be called before this. Defaults to doing nothing.</dl></div><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Protected Attributes<dl class="member"><dt id="_CPPv3N3fan17BasicFanComponent6state_E"><span id="_CPPv2N3fan17BasicFanComponent6state_E"></span><span id="fan::BasicFanComponent::state___FanStateP"></span><span class="target"id="classfan_1_1_basic_fan_component_1a0b08d53b85ebcdd9f843ea6d545d72dc"></span><a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a> *fan::<a class="reference internal"href="#_CPPv3N3fan17BasicFanComponentE"title="fan::BasicFanComponent">BasicFanComponent</a><code class="descname">state_</code> = {nullptr}<a class="headerlink"href="#_CPPv3N3fan17BasicFanComponent6state_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N3fan17BasicFanComponent14binary_output_E"><span id="_CPPv2N3fan17BasicFanComponent14binary_output_E"></span><span id="fan::BasicFanComponent::binary_output___output::BinaryOutputP"></span><span class="target"id="classfan_1_1_basic_fan_component_1a68fb4b4257f7d4f65ca9ecf58376427a"></span>output::<a class="reference internal"href="../output/index.html#_CPPv3N6output12BinaryOutputE"title="output::BinaryOutput">BinaryOutput</a> *fan::<a class="reference internal"href="#_CPPv3N3fan17BasicFanComponentE"title="fan::BasicFanComponent">BasicFanComponent</a><code class="descname">binary_output_</code> = {nullptr}<a class="headerlink"href="#_CPPv3N3fan17BasicFanComponent14binary_output_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N3fan17BasicFanComponent13speed_output_E"><span id="_CPPv2N3fan17BasicFanComponent13speed_output_E"></span><span id="fan::BasicFanComponent::speed_output___output::FloatOutputP"></span><span class="target"id="classfan_1_1_basic_fan_component_1a3dcc0f3b6ccceab46d195ab9fa6dab3f"></span>output::<a class="reference internal"href="../output/index.html#_CPPv3N6output11FloatOutputE"title="output::FloatOutput">FloatOutput</a> *fan::<a class="reference internal"href="#_CPPv3N3fan17BasicFanComponentE"title="fan::BasicFanComponent">BasicFanComponent</a><code class="descname">speed_output_</code> = {nullptr}<a class="headerlink"href="#_CPPv3N3fan17BasicFanComponent13speed_output_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N3fan17BasicFanComponent10off_speed_E"><span id="_CPPv2N3fan17BasicFanComponent10off_speed_E"></span><span id="fan::BasicFanComponent::off_speed___float"></span><span class="target"id="classfan_1_1_basic_fan_component_1a0e933ef18757504cba0345d8f75d4baf"></span>float fan::<a class="reference internal"href="#_CPPv3N3fan17BasicFanComponentE"title="fan::BasicFanComponent">BasicFanComponent</a><code class="descname">off_speed_</code> = {}<a class="headerlink"href="#_CPPv3N3fan17BasicFanComponent10off_speed_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N3fan17BasicFanComponent10low_speed_E"><span id="_CPPv2N3fan17BasicFanComponent10low_speed_E"></span><span id="fan::BasicFanComponent::low_speed___float"></span><span class="target"id="classfan_1_1_basic_fan_component_1ab38b478b9f5441ba2f1197850da2681e"></span>float fan::<a class="reference internal"href="#_CPPv3N3fan17BasicFanComponentE"title="fan::BasicFanComponent">BasicFanComponent</a><code class="descname">low_speed_</code> = {}<a class="headerlink"href="#_CPPv3N3fan17BasicFanComponent10low_speed_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N3fan17BasicFanComponent13medium_speed_E"><span id="_CPPv2N3fan17BasicFanComponent13medium_speed_E"></span><span id="fan::BasicFanComponent::medium_speed___float"></span><span class="target"id="classfan_1_1_basic_fan_component_1a18f7cb8bd90cd0091089f5a1c7bd0479"></span>float fan::<a class="reference internal"href="#_CPPv3N3fan17BasicFanComponentE"title="fan::BasicFanComponent">BasicFanComponent</a><code class="descname">medium_speed_</code> = {}<a class="headerlink"href="#_CPPv3N3fan17BasicFanComponent13medium_speed_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N3fan17BasicFanComponent11high_speed_E"><span id="_CPPv2N3fan17BasicFanComponent11high_speed_E"></span><span id="fan::BasicFanComponent::high_speed___float"></span><span class="target"id="classfan_1_1_basic_fan_component_1a25e1bab5d8c52844215acd7bad695a36"></span>float fan::<a class="reference internal"href="#_CPPv3N3fan17BasicFanComponentE"title="fan::BasicFanComponent">BasicFanComponent</a><code class="descname">high_speed_</code> = {}<a class="headerlink"href="#_CPPv3N3fan17BasicFanComponent11high_speed_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N3fan17BasicFanComponent19oscillating_output_E"><span id="_CPPv2N3fan17BasicFanComponent19oscillating_output_E"></span><span id="fan::BasicFanComponent::oscillating_output___output::BinaryOutputP"></span><span class="target"id="classfan_1_1_basic_fan_component_1a3e0ac1b81f9a475716f6845a2efd8fd4"></span>output::<a class="reference internal"href="../output/index.html#_CPPv3N6output12BinaryOutputE"title="output::BinaryOutput">BinaryOutput</a> *fan::<a class="reference internal"href="#_CPPv3N3fan17BasicFanComponentE"title="fan::BasicFanComponent">BasicFanComponent</a><code class="descname">oscillating_output_</code> = {nullptr}<a class="headerlink"href="#_CPPv3N3fan17BasicFanComponent19oscillating_output_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N3fan17BasicFanComponent12next_update_E"><span id="_CPPv2N3fan17BasicFanComponent12next_update_E"></span><span id="fan::BasicFanComponent::next_update___b"></span><span class="target"id="classfan_1_1_basic_fan_component_1afc4a9e10433e664be459bf766e53ce5d"></span>bool fan::<a class="reference internal"href="#_CPPv3N3fan17BasicFanComponentE"title="fan::BasicFanComponent">BasicFanComponent</a><code class="descname">next_update_</code> = {true}<a class="headerlink"href="#_CPPv3N3fan17BasicFanComponent12next_update_E"title="Permalink to this definition">¶</a><br><dd></dl></div></dl></div><div class="section"id="mqttfancomponent"><h3>MQTTFanComponent<a class="headerlink"href="#mqttfancomponent"title="Permalink to this headline">¶</a></h3><dl class="class"><dt id="_CPPv3N3fan16MQTTFanComponentE"><span id="_CPPv2N3fan16MQTTFanComponentE"></span><span id="fan::MQTTFanComponent"></span><span class="target"id="classfan_1_1_m_q_t_t_fan_component"></span><em class="property">class </em>fan<code class="descclassname">::</code><code class="descname">MQTTFanComponent</code><a class="headerlink"href="#_CPPv3N3fan16MQTTFanComponentE"title="Permalink to this definition">¶</a><br><dd><p>Inherits from <a class="reference internal"href="../core/mqtt.html#classmqtt_1_1_m_q_t_t_component"><span class="std std-ref">mqtt::MQTTComponent</span></a><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Public Functions<dl class="function"><dt id="_CPPv3N3fan16MQTTFanComponent16MQTTFanComponentEP8FanState"><span id="_CPPv2N3fan16MQTTFanComponent16MQTTFanComponentEP8FanState"></span><span id="fan::MQTTFanComponent::MQTTFanComponent__FanStateP"></span><span class="target"id="classfan_1_1_m_q_t_t_fan_component_1a4b606888a542ea77392b1f1faa020743"></span>fan::<a class="reference internal"href="#_CPPv3N3fan16MQTTFanComponentE"title="fan::MQTTFanComponent">MQTTFanComponent</a><code class="descname">MQTTFanComponent</code><span class="sig-paren">(</span><a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a> *<em>state</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan16MQTTFanComponent16MQTTFanComponentEP8FanState"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N3fan16MQTTFanComponent36set_custom_oscillation_command_topicERKNSt6stringE"><span id="_CPPv2N3fan16MQTTFanComponent36set_custom_oscillation_command_topicERKNSt6stringE"></span><span id="fan::MQTTFanComponent::set_custom_oscillation_command_topic__ssCR"></span><span class="target"id="classfan_1_1_m_q_t_t_fan_component_1abb7671ec7b471da3619355f2aa5ad7e0"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan16MQTTFanComponentE"title="fan::MQTTFanComponent">MQTTFanComponent</a><code class="descname">set_custom_oscillation_command_topic</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>topic</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan16MQTTFanComponent36set_custom_oscillation_command_topicERKNSt6stringE"title="Permalink to this definition">¶</a><br><dd><p>Set a custom oscillation command topic. Defaults to “&lt;base&gt;/oscillation/command”.</dl><dl class="function"><dt id="_CPPv3N3fan16MQTTFanComponent34set_custom_oscillation_state_topicERKNSt6stringE"><span id="_CPPv2N3fan16MQTTFanComponent34set_custom_oscillation_state_topicERKNSt6stringE"></span><span id="fan::MQTTFanComponent::set_custom_oscillation_state_topic__ssCR"></span><span class="target"id="classfan_1_1_m_q_t_t_fan_component_1a0948a172c07b6638f44407b4c29ef355"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan16MQTTFanComponentE"title="fan::MQTTFanComponent">MQTTFanComponent</a><code class="descname">set_custom_oscillation_state_topic</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>topic</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan16MQTTFanComponent34set_custom_oscillation_state_topicERKNSt6stringE"title="Permalink to this definition">¶</a><br><dd><p>Set a custom oscillation state topic. Defaults to “&lt;base&gt;/oscillation/state”.</dl><dl class="function"><dt id="_CPPv3N3fan16MQTTFanComponent30set_custom_speed_command_topicERKNSt6stringE"><span id="_CPPv2N3fan16MQTTFanComponent30set_custom_speed_command_topicERKNSt6stringE"></span><span id="fan::MQTTFanComponent::set_custom_speed_command_topic__ssCR"></span><span class="target"id="classfan_1_1_m_q_t_t_fan_component_1a6bf7629d217673f01604c38584098daf"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan16MQTTFanComponentE"title="fan::MQTTFanComponent">MQTTFanComponent</a><code class="descname">set_custom_speed_command_topic</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>topic</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan16MQTTFanComponent30set_custom_speed_command_topicERKNSt6stringE"title="Permalink to this definition">¶</a><br><dd><p>Set a custom speed command topic. Defaults to “&lt;base&gt;/speed/command”.</dl><dl class="function"><dt id="_CPPv3N3fan16MQTTFanComponent28set_custom_speed_state_topicERKNSt6stringE"><span id="_CPPv2N3fan16MQTTFanComponent28set_custom_speed_state_topicERKNSt6stringE"></span><span id="fan::MQTTFanComponent::set_custom_speed_state_topic__ssCR"></span><span class="target"id="classfan_1_1_m_q_t_t_fan_component_1a8016f55bfe3a64a0655a122c7a12b2a9"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan16MQTTFanComponentE"title="fan::MQTTFanComponent">MQTTFanComponent</a><code class="descname">set_custom_speed_state_topic</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>topic</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan16MQTTFanComponent28set_custom_speed_state_topicERKNSt6stringE"title="Permalink to this definition">¶</a><br><dd><p>Set a custom speed state topic. Defaults to “&lt;base&gt;/speed/state”.</dl><dl class="function"><dt id="_CPPv3N3fan16MQTTFanComponent14send_discoveryER10JsonBufferR10JsonObjectRN4mqtt19SendDiscoveryConfigE"><span id="_CPPv2N3fan16MQTTFanComponent14send_discoveryER10JsonBufferR10JsonObjectRN4mqtt19SendDiscoveryConfigE"></span><span id="fan::MQTTFanComponent::send_discovery__JsonBufferR.JsonObjectR.mqtt::SendDiscoveryConfigR"></span><span class="target"id="classfan_1_1_m_q_t_t_fan_component_1a1688c0ad070881195116d47709c6b121"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan16MQTTFanComponentE"title="fan::MQTTFanComponent">MQTTFanComponent</a><code class="descname">send_discovery</code><span class="sig-paren">(</span>JsonBuffer &amp;<em>buffer</em>, JsonObject &amp;<em>root</em>, mqtt::<a class="reference internal"href="../core/mqtt.html#_CPPv3N4mqtt19SendDiscoveryConfigE"title="mqtt::SendDiscoveryConfig">SendDiscoveryConfig</a> &amp;<em>config</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan16MQTTFanComponent14send_discoveryER10JsonBufferR10JsonObjectRN4mqtt19SendDiscoveryConfigE"title="Permalink to this definition">¶</a><br><dd><p>Send discovery info the Home Assistant, override this.</dl><dl class="function"><dt id="_CPPv3N3fan16MQTTFanComponent5setupEv"><span id="_CPPv2N3fan16MQTTFanComponent5setupEv"></span><span id="fan::MQTTFanComponent::setup"></span><span class="target"id="classfan_1_1_m_q_t_t_fan_component_1aa9f0bb217659456c86efa3d8960f7083"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan16MQTTFanComponentE"title="fan::MQTTFanComponent">MQTTFanComponent</a><code class="descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan16MQTTFanComponent5setupEv"title="Permalink to this definition">¶</a><br><dd><p>Setup the fan subscriptions and discovery.</dl><dl class="function"><dt id="_CPPv3N3fan16MQTTFanComponent10send_stateEv"><span id="_CPPv2N3fan16MQTTFanComponent10send_stateEv"></span><span id="fan::MQTTFanComponent::send_state"></span><span class="target"id="classfan_1_1_m_q_t_t_fan_component_1ad9b9dbba141ed6521375a484b84854a4"></span>void fan::<a class="reference internal"href="#_CPPv3N3fan16MQTTFanComponentE"title="fan::MQTTFanComponent">MQTTFanComponent</a><code class="descname">send_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N3fan16MQTTFanComponent10send_stateEv"title="Permalink to this definition">¶</a><br><dd><p>Send the full current state to MQTT.</dl><dl class="function"><dt id="_CPPv3NK3fan16MQTTFanComponent14component_typeEv"><span id="_CPPv2NK3fan16MQTTFanComponent14component_typeEv"></span><span id="fan::MQTTFanComponent::component_typeC"></span><span class="target"id="classfan_1_1_m_q_t_t_fan_component_1ac616badb0063b76faedf5342210e6cab"></span>std::string fan::<a class="reference internal"href="#_CPPv3N3fan16MQTTFanComponentE"title="fan::MQTTFanComponent">MQTTFanComponent</a><code class="descname">component_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK3fan16MQTTFanComponent14component_typeEv"title="Permalink to this definition">¶</a><br><dd><p>‘fan’ component type for discovery.</dl><dl class="function"><dt id="_CPPv3NK3fan16MQTTFanComponent29get_oscillation_command_topicEv"><span id="_CPPv2NK3fan16MQTTFanComponent29get_oscillation_command_topicEv"></span><span id="fan::MQTTFanComponent::get_oscillation_command_topicC"></span><span class="target"id="classfan_1_1_m_q_t_t_fan_component_1a0a6fe69dfd09f94afc98dfe46f719c0b"></span><em class="property">const</em> std::string fan::<a class="reference internal"href="#_CPPv3N3fan16MQTTFanComponentE"title="fan::MQTTFanComponent">MQTTFanComponent</a><code class="descname">get_oscillation_command_topic</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK3fan16MQTTFanComponent29get_oscillation_command_topicEv"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3NK3fan16MQTTFanComponent27get_oscillation_state_topicEv"><span id="_CPPv2NK3fan16MQTTFanComponent27get_oscillation_state_topicEv"></span><span id="fan::MQTTFanComponent::get_oscillation_state_topicC"></span><span class="target"id="classfan_1_1_m_q_t_t_fan_component_1abb8b4b7594321be02e0a31c69f3fe54c"></span><em class="property">const</em> std::string fan::<a class="reference internal"href="#_CPPv3N3fan16MQTTFanComponentE"title="fan::MQTTFanComponent">MQTTFanComponent</a><code class="descname">get_oscillation_state_topic</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK3fan16MQTTFanComponent27get_oscillation_state_topicEv"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3NK3fan16MQTTFanComponent23get_speed_command_topicEv"><span id="_CPPv2NK3fan16MQTTFanComponent23get_speed_command_topicEv"></span><span id="fan::MQTTFanComponent::get_speed_command_topicC"></span><span class="target"id="classfan_1_1_m_q_t_t_fan_component_1a37238a05af71addd3dd273ed30d9f561"></span><em class="property">const</em> std::string fan::<a class="reference internal"href="#_CPPv3N3fan16MQTTFanComponentE"title="fan::MQTTFanComponent">MQTTFanComponent</a><code class="descname">get_speed_command_topic</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK3fan16MQTTFanComponent23get_speed_command_topicEv"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3NK3fan16MQTTFanComponent21get_speed_state_topicEv"><span id="_CPPv2NK3fan16MQTTFanComponent21get_speed_state_topicEv"></span><span id="fan::MQTTFanComponent::get_speed_state_topicC"></span><span class="target"id="classfan_1_1_m_q_t_t_fan_component_1aec0541c4d6d8603255f7203ad542e1f8"></span><em class="property">const</em> std::string fan::<a class="reference internal"href="#_CPPv3N3fan16MQTTFanComponentE"title="fan::MQTTFanComponent">MQTTFanComponent</a><code class="descname">get_speed_state_topic</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK3fan16MQTTFanComponent21get_speed_state_topicEv"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3NK3fan16MQTTFanComponent9get_stateEv"><span id="_CPPv2NK3fan16MQTTFanComponent9get_stateEv"></span><span id="fan::MQTTFanComponent::get_stateC"></span><span class="target"id="classfan_1_1_m_q_t_t_fan_component_1a38063c4c595efd95da47f457be3a3ab8"></span><a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a> *fan::<a class="reference internal"href="#_CPPv3N3fan16MQTTFanComponentE"title="fan::MQTTFanComponent">MQTTFanComponent</a><code class="descname">get_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK3fan16MQTTFanComponent9get_stateEv"title="Permalink to this definition">¶</a><br><dd></dl></div><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Protected Functions<dl class="function"><dt id="_CPPv3NK3fan16MQTTFanComponent13friendly_nameEv"><span id="_CPPv2NK3fan16MQTTFanComponent13friendly_nameEv"></span><span id="fan::MQTTFanComponent::friendly_nameC"></span><span class="target"id="classfan_1_1_m_q_t_t_fan_component_1af3abeed3610f40925e286a6c22bfb8eb"></span>std::string fan::<a class="reference internal"href="#_CPPv3N3fan16MQTTFanComponentE"title="fan::MQTTFanComponent">MQTTFanComponent</a><code class="descname">friendly_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK3fan16MQTTFanComponent13friendly_nameEv"title="Permalink to this definition">¶</a><br><dd><p>Get the friendly name of this MQTT component.</dl></div><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Protected Attributes<dl class="member"><dt id="_CPPv3N3fan16MQTTFanComponent6state_E"><span id="_CPPv2N3fan16MQTTFanComponent6state_E"></span><span id="fan::MQTTFanComponent::state___FanStateP"></span><span class="target"id="classfan_1_1_m_q_t_t_fan_component_1a1786c94b5697a234600ace3f4f3a629c"></span><a class="reference internal"href="#_CPPv3N3fan8FanStateE"title="fan::FanState">FanState</a> *fan::<a class="reference internal"href="#_CPPv3N3fan16MQTTFanComponentE"title="fan::MQTTFanComponent">MQTTFanComponent</a><code class="descname">state_</code><a class="headerlink"href="#_CPPv3N3fan16MQTTFanComponent6state_E"title="Permalink to this definition">¶</a><br><dd></dl></div></dl></div></div></div></div></div></div><div class="sphinxsidebar"role="navigation"aria-label="main navigation"><div class="sphinxsidebarwrapper"><div class="relations"><h3>Related Topics</h3><ul><li><a href="../../index.html">Documentation overview</a><ul><li><a href="../index.html">API Reference</a><ul><li>Previous: <a href="../output/esp8266-pwm.html"title="previous chapter">ESP8266 Software PWM</a><li>Next: <a href="../light/index.html"title="next chapter">Light</a></ul></ul></ul></div><div id="searchbox"style="display: none"role="search"><h3>Quick search</h3><div class="searchformwrapper"><form class="search"action="../../search.html"><input name="q"> <input type="submit"value="Go"> <input type="hidden"name="check_keywords"value="yes"> <input type="hidden"name="area"value="default"></form></div></div><script>$('#searchbox').show(0);</script></div></div><div class="clearer"></div></div><div class="footer">&copy;2018, Otto Winter. | Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.2</a> &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a> | <a href="../../_sources/api/fan/index.rst.txt"rel="nofollow">Page source</a></div>