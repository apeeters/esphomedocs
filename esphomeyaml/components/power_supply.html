<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><meta http-equiv="X-UA-Compatible"content="IE=Edge"><meta http-equiv="Content-Type"content="text/html; charset=utf-8"><title>Power Supply Component &#8212; esphomelib 1.6.2 documentation</title><link rel="stylesheet"href="../../_static/alabaster.css"type="text/css"><link rel="stylesheet"href="../../_static/pygments.css"type="text/css"><script src="../../_static/documentation_options.js"></script><script src="../../_static/jquery.js"></script><script src="../../_static/underscore.js"></script><script src="../../_static/doctools.js"></script><link rel="index"title="Index"href="../../genindex.html"><link rel="search"title="Search"href="../../search.html"><link rel="next"title="Web Server Component"href="web_server.html"><link rel="prev"title="PCF8574 I/O Expander"href="pcf8574.html"><link rel="stylesheet"href="../../_static/custom.css"type="text/css"><meta name="viewport"content="width=device-width,initial-scale=0.9,maximum-scale=0.9"><div class="document"><div class="documentwrapper"><div class="bodywrapper"><div class="body"role="main"><div class="section"id="power-supply-component"><h1>Power Supply Component<a class="headerlink"href="#power-supply-component"title="Permalink to this headline">¶</a></h1><p>The <code class="docutils literal notranslate"><span class="pre">power_supply</span></code> component allows you to have a high power mode for certain outputs. For example, if you’re using an <a class="reference external"href="https://en.wikipedia.org/wiki/ATX">ATX power supply</a> to power your LED strips, you usually don’t want to have the power supply on all the time while the output is not on. The power supply component can be attached to any <a class="reference internal"href="switch/output.html#output"><span class="std std-ref">Output Component</span></a> and will automatically switch on if any of the outputs are on. Furthermore, it also has a cooldown time that keeps the power supply on for a while after the last ouput has been disabled.<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example configuration entry</span>
<span class="n">power_supply</span><span class="p">:</span>
  <span class="o">-</span> <span class="nb">id</span><span class="p">:</span> <span class="s1">&#39;power_supply1&#39;</span>
    <span class="n">pin</span><span class="p">:</span> <span class="mi">13</span>
</pre></div></div><div class="section"id="configuration-variables"><h2>Configuration variables:<a class="headerlink"href="#configuration-variables"title="Permalink to this headline">¶</a></h2><ul class="simple"><li><strong>id</strong> (<strong>Required</strong>, <a class="reference internal"href="../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): The id of the power supply so that it can be used by the outputs.<li><strong>pin</strong> (<strong>Required</strong>, <a class="reference internal"href="../guides/configuration-types.html#config-pin-schema"><span class="std std-ref">Pin Schema</span></a>): The GPIO pin to control the power supply on.<li><strong>enable_time</strong> (<em>Optional</em>, <a class="reference internal"href="../guides/configuration-types.html#config-time"><span class="std std-ref">Time</span></a>): The time to that the power supply needs for startup. The output component will wait for this period of time after turning on the PSU and before switching the output on. Defaults to <code class="docutils literal notranslate"><span class="pre">20ms</span></code>.<li><strong>keep_on_time</strong> (<em>Optional</em>, <a class="reference internal"href="../guides/configuration-types.html#config-time"><span class="std std-ref">Time</span></a>): The time the power supply should be kept enabled after the last output that used it has been switch off. Defaults to <code class="docutils literal notranslate"><span class="pre">10s</span></code>.</ul><p>See the <a class="reference internal"href="output/index.html#config-output"><span class="std std-ref">output component base configuration</span></a> for information on how to apply the power supply for a specific output.</div><div class="section"id="atx-power-supplies"><h2>ATX Power Supplies<a class="headerlink"href="#atx-power-supplies"title="Permalink to this headline">¶</a></h2><div class="figure align-center"><a class="reference internal image-reference"href="../../_images/power_supply-atx.jpg"><img alt="../../_images/power_supply-atx.jpg"src="../../_images/power_supply-atx.jpg"style="width: 80.0%;"></a></div><p>The power supply component will default to pulling the specified GPIO pin up when high power mode is needed. Most ATX power supplies however operate with an active-low configuration. Therefore their output needs to be inverted.<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">power_supply</span><span class="p">:</span>
  <span class="o">-</span> <span class="nb">id</span><span class="p">:</span> <span class="s1">&#39;atx_power_supply&#39;</span>
    <span class="n">pin</span><span class="p">:</span>
      <span class="n">number</span><span class="p">:</span> <span class="mi">13</span>
      <span class="n">inverted</span><span class="p">:</span> <span class="n">true</span>
</pre></div></div><p>Then simply connect the green control wire from the ATX power supply to your specified pin. It’s recommended to put a small resistor (about 1kΩ) in between to protect the ESP board.<div class="section"id="see-also"><h3>See Also<a class="headerlink"href="#see-also"title="Permalink to this headline">¶</a></h3><ul class="simple"><li><a class="reference internal"href="output/index.html"><span class="doc">Output Component</span></a><li><a class="reference internal"href="../../api/core/power-supply.html"><span class="doc">API Reference</span></a><li><a class="reference external"href="https://github.com/OttoWinter/esphomedocs/blob/current/esphomeyaml/components/power_supply.rst">Edit this page on GitHub</a></ul></div></div></div></div></div></div><div class="sphinxsidebar"role="navigation"aria-label="main navigation"><div class="sphinxsidebarwrapper"><div class="relations"><h3>Related Topics</h3><ul><li><a href="../../index.html">Documentation overview</a><ul><li><a href="../index.html">esphomeyaml</a><ul><li><a href="index.html">Components</a><ul><li>Previous: <a href="pcf8574.html"title="previous chapter">PCF8574 I/O Expander</a><li>Next: <a href="web_server.html"title="next chapter">Web Server Component</a></ul></ul></ul></ul></div><div id="searchbox"style="display: none"role="search"><h3>Quick search</h3><div class="searchformwrapper"><form class="search"action="../../search.html"><input name="q"> <input type="submit"value="Go"> <input type="hidden"name="check_keywords"value="yes"> <input type="hidden"name="area"value="default"></form></div></div><script>$('#searchbox').show(0);</script></div></div><div class="clearer"></div></div><div class="footer">&copy;2018, Otto Winter. | Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.2</a> &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a> | <a href="../../_sources/esphomeyaml/components/power_supply.rst.txt"rel="nofollow">Page source</a></div>