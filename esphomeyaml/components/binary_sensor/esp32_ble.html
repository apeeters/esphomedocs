<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><meta http-equiv="X-UA-Compatible"content="IE=Edge"><meta http-equiv="Content-Type"content="text/html; charset=utf-8"><title>ESP32 Bluetooth Low Energy Device &#8212; esphomelib 1.6.2 documentation</title><link rel="stylesheet"href="../../../_static/alabaster.css"type="text/css"><link rel="stylesheet"href="../../../_static/pygments.css"type="text/css"><script src="../../../_static/documentation_options.js"></script><script src="../../../_static/jquery.js"></script><script src="../../../_static/underscore.js"></script><script src="../../../_static/doctools.js"></script><link rel="index"title="Index"href="../../../genindex.html"><link rel="search"title="Search"href="../../../search.html"><link rel="next"title="ESP32 Touch Pad Binary Sensor"href="esp32_touch.html"><link rel="prev"title="Status Binary Sensor"href="status.html"><link rel="stylesheet"href="../../../_static/custom.css"type="text/css"><meta name="viewport"content="width=device-width,initial-scale=0.9,maximum-scale=0.9"><div class="document"><div class="documentwrapper"><div class="bodywrapper"><div class="body"role="main"><div class="section"id="esp32-bluetooth-low-energy-device"><h1>ESP32 Bluetooth Low Energy Device<a class="headerlink"href="#esp32-bluetooth-low-energy-device"title="Permalink to this headline">¶</a></h1><p>The <code class="docutils literal notranslate"><span class="pre">esp32_ble</span></code> binary sensor platform lets you track the presence of a bluetooth low energy device.<div class="admonition note"><p class="first admonition-title">Note<p class="last">See the <a class="reference internal"href="../esp32_ble.html"><span class="doc">ESP32 BLE Hub Page</span></a> for current limitations of this platform</div><div class="figure align-center"><a class="reference internal image-reference"href="../../../_images/esp32_ble-ui.png"><img alt="../../../_images/esp32_ble-ui.png"src="../../../_images/esp32_ble-ui.png"style="width: 80.0%;"></a></div><div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example configuration entry</span>
<span class="n">esp32_ble</span><span class="p">:</span>
  <span class="n">scan_interval</span><span class="p">:</span> <span class="mi">300</span><span class="n">s</span>

<span class="n">binary_sensor</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">platform</span><span class="p">:</span> <span class="n">esp32_ble</span>
    <span class="n">mac_address</span><span class="p">:</span> <span class="n">AC</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">77</span><span class="p">:</span><span class="mi">5</span><span class="n">F</span><span class="p">:</span><span class="mi">4</span><span class="n">C</span>
    <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;ESP32 BLE Tracker Google Home Mini&quot;</span>
</pre></div></div><div class="section"id="configuration-variables"><h2>Configuration variables:<a class="headerlink"href="#configuration-variables"title="Permalink to this headline">¶</a></h2><ul class="simple"><li><strong>mac_address</strong> (<strong>Required</strong>, MAC Address): The MAC address to track for this binary sensor.<li><strong>name</strong> (<strong>Required</strong>, string): The name of the binary sensor.<li><strong>id</strong> (<em>Optional</em>, <a class="reference internal"href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): Manually specify the ID used for code generation.<li>All other options from <a class="reference internal"href="index.html#config-binary-sensor"><span class="std std-ref">Binary Sensor</span></a> and <a class="reference internal"href="../mqtt.html#config-mqtt-component"><span class="std std-ref">MQTT Component</span></a>.</ul></div><div class="section"id="setting-up-devices"><h2>Setting Up Devices<a class="headerlink"href="#setting-up-devices"title="Permalink to this headline">¶</a></h2><p>To set up binary sensors for specific BLE beacons you first have to know which MAC address to track. Most devices show this screen in some setting menu. If you don’t know the MAC address, however, you can use the <code class="docutils literal notranslate"><span class="pre">esp32_ble</span></code> hub without any binary sensors attached and read through the logs to see discovered Bluetooth Low Energy devices.<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example configuration entry for finding MAC addresses</span>
<span class="n">esp32_ble</span><span class="p">:</span>
</pre></div></div><p>Using above configuration, first you should see a <code class="docutils literal notranslate"><span class="pre">Starting</span> <span class="pre">scan...</span></code> debug message at boot-up. Then, when a BLE device is discovered, you should see messages like <code class="docutils literal notranslate"><span class="pre">Found</span> <span class="pre">device</span> <span class="pre">AC:37:43:77:5F:4C</span> <span class="pre">RSSI=-80</span></code> together with some information about their address type and advertised name. If you don’t see these messages, your device is unfortunately currently not supported.<p>Please note that devices that show a <code class="docutils literal notranslate"><span class="pre">RANDOM</span></code> address type in the logs cannot be used for tracking, since their MAC-address periodically changes.<div class="section"id="see-also"><h3>See Also<a class="headerlink"href="#see-also"title="Permalink to this headline">¶</a></h3><ul class="simple"><li><a class="reference internal"href="../esp32_ble.html"><span class="doc">ESP32 Bluetooth Low Energy Hub</span></a><li><a class="reference internal"href="index.html"><span class="doc">Binary Sensor Component</span></a><li><a class="reference internal"href="../../../api/misc/esp32_ble_tracker.html"><span class="doc">API Reference</span></a><li><a class="reference external"href="https://github.com/OttoWinter/esphomedocs/blob/current/esphomeyaml/components/binary_sensor/esp32_ble.rst">Edit this page on GitHub</a></ul></div></div></div></div></div></div><div class="sphinxsidebar"role="navigation"aria-label="main navigation"><div class="sphinxsidebarwrapper"><div class="relations"><h3>Related Topics</h3><ul><li><a href="../../../index.html">Documentation overview</a><ul><li><a href="../../index.html">esphomeyaml</a><ul><li><a href="../index.html">Components</a><ul><li><a href="index.html">Binary Sensor Component</a><ul><li>Previous: <a href="status.html"title="previous chapter">Status Binary Sensor</a><li>Next: <a href="esp32_touch.html"title="next chapter">ESP32 Touch Pad Binary Sensor</a></ul></ul></ul></ul></ul></div><div id="searchbox"style="display: none"role="search"><h3>Quick search</h3><div class="searchformwrapper"><form class="search"action="../../../search.html"><input name="q"> <input type="submit"value="Go"> <input type="hidden"name="check_keywords"value="yes"> <input type="hidden"name="area"value="default"></form></div></div><script>$('#searchbox').show(0);</script></div></div><div class="clearer"></div></div><div class="footer">&copy;2018, Otto Winter. | Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.2</a> &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a> | <a href="../../../_sources/esphomeyaml/components/binary_sensor/esp32_ble.rst.txt"rel="nofollow">Page source</a></div>